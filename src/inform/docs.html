<!DOCTYPE html>
<html lang="en" data-unify="/_includes/tool-page.html">
<head>
    <title>inform - Documentation</title>
    <meta name="description" content="Complete command reference for inform corpus manager. CLI commands, corpus.yml structure, and Git workflows.">
</head>
<body>

    <section class="tool-nav">
        <div class="tool-nav-container">
            <ul class="unify-nav-links">
                <li><a href="/inform/">Overview</a></li>
                <li><a href="/inform/getting-started">Getting Started</a></li>
                <li><a href="/inform/docs" class="active">Documentation</a></li>
                <li><a href="/inform/examples">Examples</a></li>
            </ul>
        </div>
    </section>

    <section class="tool-section">
        <div class="section-header">
            <h1>Command Reference</h1>
            <p>Complete CLI options and configuration</p>
        </div>

        <h2>Commands</h2>
        <div class="code-block">
            <pre>Usage: inform [COMMAND] [OPTIONS]

Commands:
  init              Initialize corpus configuration
  sync              Sync all sources or specific source
  status            Show corpus sync status
  help              Show help message</pre>
        </div>
    </section>

    <section class="tool-section alt-bg">
        <div class="section-header">
            <h2>sync Command</h2>
            <p>Synchronize corpus sources</p>
        </div>

        <h3>Syntax</h3>
        <div class="code-block">
            <pre>inform sync [SOURCE_ID] [OPTIONS]</pre>
        </div>

        <h3>Options</h3>
        <table class="options-table">
            <thead>
                <tr>
                    <th>Option</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>--all</code></td>
                    <td>Sync all configured sources</td>
                </tr>
                <tr>
                    <td><code>--mirror</code></td>
                    <td>Mirror small artifacts to corpus_artifacts/</td>
                </tr>
                <tr>
                    <td><code>--dry-run</code></td>
                    <td>Print what would happen without executing</td>
                </tr>
                <tr>
                    <td><code>--print-cmds</code></td>
                    <td>Always print tool commands</td>
                </tr>
                <tr>
                    <td><code>--no-manifest</code></td>
                    <td>Run tools but do not write manifests</td>
                </tr>
                <tr>
                    <td><code>--only</code></td>
                    <td>Only allowed with sync: pull, index, export</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section class="tool-section">
        <div class="section-header">
            <h2>corpus.yml Configuration</h2>
            <p>Define sources and sync behavior</p>
        </div>

        <h3>Complete Example</h3>
        <div class="code-block">
            <pre># .fwdslsh/corpus/corpus.yml
version: "1.0"

sources:
  # HTTP source (web documentation)
  - id: official-docs
    type: http
    url: https://docs.example.com
    path: sources/official-docs/content
    index_path: sources/official-docs/catalog
    fetch: true

  # Git source (GitHub repository)
  - id: api-reference
    type: git
    url: https://github.com/owner/repo
    branch: main
    subpath: docs
    path: sources/api-reference/content
    index_path: sources/api-reference/catalog
    fetch: true

  # Local source (no fetching)
  - id: internal-docs
    type: local
    path: sources/internal-docs/content
    index_path: sources/internal-docs/catalog
    fetch: false</pre>
        </div>

        <h3>Source Types</h3>
        <table class="options-table">
            <thead>
                <tr>
                    <th>Type</th>
                    <th>Fields</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>http</code></td>
                    <td>url, path, index_path, fetch (default: true)</td>
                </tr>
                <tr>
                    <td><code>git</code></td>
                    <td>url, branch, subpath, path, index_path, fetch (default: true)</td>
                </tr>
                <tr>
                    <td><code>local</code></td>
                    <td>path, index_path, fetch (default: false)</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section class="tool-section alt-bg">
        <div class="section-header">
            <h2>Timeout & Error Handling</h2>
            <p>Configure sync behavior for reliability</p>
        </div>

        <h3>Environment Variables</h3>
        <table class="options-table">
            <thead>
                <tr>
                    <th>Variable</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>FWD_CORPUS_TIMEOUT</code></td>
                    <td><code>300000</code> (5 min)</td>
                    <td>Per-source timeout in milliseconds</td>
                </tr>
                <tr>
                    <td><code>FWD_CORPUS_RETRIES</code></td>
                    <td><code>2</code></td>
                    <td>Maximum retry attempts per source</td>
                </tr>
                <tr>
                    <td><code>FWD_CORPUS_CONTINUE_ON_ERROR</code></td>
                    <td><code>true</code></td>
                    <td>Continue syncing other sources if one fails</td>
                </tr>
            </tbody>
        </table>

        <h3>Error Logging</h3>
        <p>Sync errors are logged to <code>~/.hyphn/logs/inform-sync.log</code></p>
        <div class="code-block">
            <pre># View recent sync errors
cat ~/.hyphn/logs/inform-sync.log | jq '.errors'</pre>
        </div>
    </section>

    <section class="tool-section">
        <div class="section-header">
            <h2>Git Workflow</h2>
            <p>Best practices for corpus management in Git</p>
        </div>

        <h3>Git-Friendly Defaults</h3>
        <ul>
            <li><strong>Configuration + manifests:</strong> Live under <code>.fwdslsh/corpus/</code> (commit these)</li>
            <li><strong>Raw content:</strong> Lives under <code>$FWDSLH_CORPUS_PATH/</code> (typically do NOT commit)</li>
            <li><strong>Optional mirroring:</strong> Mirror small artifacts to <code>corpus_artifacts/</code> for PR review</li>
        </ul>

        <h3>.gitignore Example</h3>
        <div class="code-block">
            <pre># .fwdslsh/corpus/.gitignore
# Large raw content
sources/*/content/

# Optional build artifacts
sources/*/catalog/*.json
sources/*/catalog/*.db

# Cached data
.cache/</pre>
        </div>
    </section>

</body>
</html>
